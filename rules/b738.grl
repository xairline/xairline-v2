rule Speed_Limit_Flaps_1 "Overspeed(250kt) with flaps 1" {
    when
        FACT.CurrentLocation.Ias > 250 &&
        FACT.DatarefSvc.GetValueByDatarefName("sim/flightmodel2/controls/flap_handle_deploy_ratio","flap",nil,false).GetFloat64() >0 &&
        //FACT.DatarefSvc.GetValueByDatarefName() >0 &&
        FACT.EventExists("Overspeed(250kt) with flaps 1") == false 
    then
        FACT.AddViolationEvent("Overspeed(250kt) with flaps 1");
        Retract("Speed_Limit_Flaps_1");
}